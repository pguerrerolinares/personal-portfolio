// ===========================================
// GLOBALS - Main Stylesheet Entry Point
// ===========================================

@use 'variables' as v;
@use 'animations';

// CSS Custom Properties (for runtime theming)
:root {
    // Colors
    --background: #{v.$background-light};
    --foreground: #{v.$foreground-light};
    --muted: #{v.$muted-light};
    --muted-foreground: #{v.$muted-light};
    --border: #{v.$border-light};
    --accent: #{v.$accent-light};
    --accent-foreground: #{v.$accent-foreground};

    // Semantic colors
    --success: #{v.$success-light};
    --warning: #{v.$warning-light};
    --error: #{v.$error-light};
    --info: #{v.$info-light};

    // Category colors
    --category-web: #{v.$category-web};
    --category-mobile: #{v.$category-mobile};
    --category-ai: #{v.$category-ai};
    --category-automation: #{v.$category-automation};
    --category-other: #{v.$category-other};

    // RGB versions for rgba() usage
    --background-rgb: 255, 255, 255;
    --foreground-rgb: 10, 10, 10;
    --accent-rgb: 37, 99, 235;
    --muted-rgb: 115, 115, 115;

    // Semantic RGB versions
    --success-rgb: 34, 197, 94;
    --warning-rgb: 245, 158, 11;
    --error-rgb: 239, 68, 68;
    --info-rgb: 59, 130, 246;

    // Category RGB versions
    --category-web-rgb: 59, 130, 246;
    --category-mobile-rgb: 34, 197, 94;
    --category-ai-rgb: 168, 85, 247;
    --category-automation-rgb: 249, 115, 22;
    --category-other-rgb: 107, 114, 128;
}

.dark {
    --background: #{v.$background-dark};
    --foreground: #{v.$foreground-dark};
    --muted: #{v.$muted-dark};
    --muted-foreground: #{v.$muted-dark};
    --border: #{v.$border-dark};
    --accent: #{v.$accent-dark};

    // Semantic colors (dark theme)
    --success: #{v.$success-dark};
    --warning: #{v.$warning-dark};
    --error: #{v.$error-dark};
    --info: #{v.$info-dark};

    // RGB versions (dark theme)
    --background-rgb: 10, 10, 10;
    --foreground-rgb: 250, 250, 250;
    --accent-rgb: 59, 130, 246;
    --muted-rgb: 163, 163, 163;

    // Semantic RGB versions (dark theme)
    --success-rgb: 74, 222, 128;
    --warning-rgb: 251, 191, 36;
    --error-rgb: 248, 113, 113;
    --info-rgb: 96, 165, 250;
}

// Base reset & styles
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    scroll-behavior: smooth;
    font-size: 16px;
}

body {
    background: var(--background);
    color: var(--foreground);
    // Use the CSS variable set by Next.js font, with system font fallback
    font-family: var(--font-geist-sans, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif);
    font-size: v.$text-base;
    line-height: v.$leading-normal;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transition: background-color 300ms ease, color 300ms ease;
}

// Ensure code/pre elements use mono font
code,
pre,
kbd,
samp {
    font-family: var(--font-geist-mono, ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace);
}

// Default border color
* {
    border-color: var(--border);
    transition: border-color 300ms ease;
}

// Links
a {
    color: inherit;
    text-decoration: none;
}

// Buttons reset
button {
    background: none;
    border: none;
    font: inherit;
    cursor: pointer;
    color: inherit;
}

// Images
img,
svg {
    display: block;
    max-width: 100%;
}

// Lists
ul,
ol {
    list-style: none;
}

// Selection
::selection {
    background: var(--accent);
    color: var(--accent-foreground);
}

// Scrollbar styling
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(var(--foreground-rgb), 0.2);
    border-radius: v.$radius-full;

    &:hover {
        background: rgba(var(--foreground-rgb), 0.3);
    }
}

// Focus styles
:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
}

// Reduced motion
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}